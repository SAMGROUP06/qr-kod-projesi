<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>QR Üretici (ENVANTER 0001–1000)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    body{font-family:system-ui,Arial,Helvetica,sans-serif;margin:24px}
    .controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-bottom:16px}
    input{padding:8px 10px}
    button{padding:8px 12px;cursor:pointer}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:16px}
    .card{border:1px solid #e5e7eb;border-radius:12px;padding:12px;text-align:center}
    .lbl{margin-top:8px;font-weight:700}
    .dl{margin-top:8px}
    @media print {.dl,.controls{display:none}}
  </style>
</head>
<body>
  <h1>QR Üretici</h1>
  <div class="controls">
    <label>Başlangıç: <input id="start" type="number" value="1" min="1"></label>
    <label>Bitiş: <input id="end" type="number" value="1000" min="1"></label>
    <label>Sıfır doldurma: <input id="pad" type="number" value="4" min="1"></label>
    <button id="run">Oluştur</button>
    <button onclick="window.print()">Yazdır</button>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>;
<button onclick="exportPDF()">PDF indir</button>;
  </div>
  <div class="grid" id="out"></div>
  <script>
    const BASE = "https://samgroup06.github.io/qr-kod-projesi/index.html?id=";

    function makeQR(text){
      const div=document.createElement('div');
      new QRCode(div,{text,width:128,height:128,correctLevel:QRCode.CorrectLevel.M});
      return div.querySelector('canvas')||div.querySelector('img');
    }

    function dlCanvasAsPNG(canvas, filename){
      const a=document.createElement('a');
      a.href=canvas.toDataURL('image/png');
      a.download=filename;
      a.click();
    }

    document.getElementById('run').onclick=()=>{
      const start=+document.getElementById('start').value;
      const end=+document.getElementById('end').value;
      const pad=+document.getElementById('pad').value;
      const out=document.getElementById('out');
      out.innerHTML='';
      for(let i=start;i<=end;i++){
        const id=String(i).padStart(pad,'0');
        const url=BASE+id;
        const label=`ENVANTER ${id}`;
        const card=document.createElement('div'); card.className='card';
        const qr=makeQR(url); card.appendChild(qr);
        const lbl=document.createElement('div'); lbl.className='lbl'; lbl.textContent=label; card.appendChild(lbl);
        const btn=document.createElement('button'); btn.className='dl'; btn.textContent='PNG indir';
        btn.onclick=()=>dlCanvasAsPNG(qr,`ENVANTER_${id}.png`); card.appendChild(btn);
        out.appendChild(card);
       

      }
    };
  </script>
  function exportPDF() {
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF('p', 'pt', 'a4');
  pdf.html(document.getElementById('out'), {
    callback: function (doc) {
      doc.save("QR_Kodlari.pdf");
    },
    x: 10,
    y: 10
  });
}

</body>
</html>
